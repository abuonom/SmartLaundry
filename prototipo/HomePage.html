<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background-image: url("img/parthenope.jpg");
            background-repeat: no-repeat;
            background-position: center 120px;
        }
        .card {
            transition: transform 0.3s;
        }
        .card:hover {
            transform: scale(1.1);
        }
        .card5 {
            background-color: #0B486B;
            color: white;
        }
        .card5:hover {
            transform: scale(1.1);
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background-color: white;
            border: 1px solid black;
            z-index: 9999;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
</head>

<body style="background-color:white">
    <!-- nav-bar per la navigazione nelle funzioni-->
    <nav>
        <ul>
            <li><a class="nav-link active" href="HomePage.html">Home</a></li>
            <li><a class="nav-link" href="Lavaggio.html">Lavaggio bucato</a></li>
            <li><a class="nav-link" href="Asciugatura.html">Asciugatura bucato</a></li>
            <li><a class="nav-link" href="Deumidificatore.html">Deumidificazione Aria</a></li>
            <li><a class="nav-link" href="Riscaldamento.html">Riscaldamento Aria</a></li>
            <li><a class="nav-link" href="ParametriSensori.html">Parametri Sensori</a></li>
            <li style="float:right"><a href="Impostazioni.html">Impostazioni</a></li>
        </ul>
    </nav>
    <br>
    <div class="card-container">
        <div styles="width:50%">
            <div class="card1 card" onclick="window.location.href='Lavaggio.html'">
                <div class="card-content">
                    <p>Lavaggio</p>
                </div>
            </div>
            <div class="card2 card" onclick="window.location.href='Asciugatura.html'">
                <div class="card-content">
                    <p>Asciugatura</p>
                </div>
            </div>
        </div>
        <div styles="width:50%">
            <div class="card3 card" onclick="window.location.href='Deumidificatore.html'">
                <div class="card-content">
                    <p>Deumidificatore</p>
                </div>
            </div>
            <div class="card4 card" onclick="window.location.href='Riscaldamento.html'">
                <div class="card-content">
                    <p>Riscaldamento</p>
                </div>
            </div>
        </div>
    </div>

    <div styles="width:50%">
        <div class="card5 card" onclick="toggleAutomaticMode()">
            <div class="card-content">
                <p id="automaticMode">Modalità Automatica OFF</p>
                <p id="kWUsage"></p>
            </div>
        </div>
    </div>

    <div id="popup" class="popup"></div>

    <script>
        function toggleAutomaticMode() {
            var automaticMode = document.getElementById("automaticMode");
            var kWUsage = document.getElementById("kWUsage");
            var popup = document.getElementById("popup");

            if (automaticMode.innerHTML === "Modalità Automatica OFF") {
                automaticMode.innerHTML = "Modalità Automatica ON";
                document.getElementsByClassName("card5")[0].style.backgroundColor = "#3a4a68";

                var randomUsage = Math.floor(Math.random() * 3001); // Genera un valore casuale tra 0 e 3000 kW
                kWUsage.innerHTML = "Consumo: " + randomUsage + " kW";

                if (randomUsage > 2800) {
                    var message;
                    var randomIndex = Math.floor(Math.random() * 4) + 1;

                    switch (randomIndex) {
                        case 1:
                            message = "Sto spegnendo la funzione di lavaggio";
                            break;
                        case 2:
                            message = "Sto spegnendo la funzione di asciugatura";
                            break;
                        case 3:
                            message = "Sto spegnendo la funzione deumidificante";
                            break;
                        case 4:
                            message = "Sto spegnendo la funzione riscaldamento";
                            break;
                        default:
                            message = "Sto spegnendo la funzione";
                            break;
                    }

                    popup.innerHTML = message;
                    popup.style.display = "block";

                    setTimeout(function() {
                        popup.style.display = "none";
                    }, 3000);
                }
            } else {
                automaticMode.innerHTML = "Modalità Automatica OFF";
                document.getElementsByClassName("card5")[0].style.backgroundColor = "#3a4a68";
                kWUsage.innerHTML = "";
            }
        }
    </script>
</body>

</html>
